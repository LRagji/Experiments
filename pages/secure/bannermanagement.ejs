<!doctype html>
<html lang="en">

<head>
    <% include ../head %>

    <title>Health Mall-Banner Management</title>
</head>

<body class="bg-light">
    <!-- Main Nav -->
    <% include ../header %>

    <div class="container my-5">

        <form action="/secure/banner" method="post" enctype="multipart/form-data">
            <% if (pageData.bue.length>=1) { %>
            <%- `<div class="alert alert alert-danger" role="alert">${pageData.bue[0]}</div>` %>
            <% } %>
            <% if (pageData.bus.length>=1) { %>
            <%- `<div class="alert alert alert-success" role="alert">${pageData.bus[0]}</div>` %>
            <% } %>
            <div id="carouselExampleIndicators" class="myshadow carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img id="banner1" class="d-block w-100" src="/static/resources/images/banners/banner1.jpg" alt="First Banner">
                    </div>
                    <div class="carousel-item">
                        <img id="banner2" class="d-block w-100" src="/static/resources/images/banners/banner2.jpg" alt="Second Banner">
                    </div>
                    <div class="carousel-item">
                        <img id="banner3" class="d-block w-100" src="/static/resources/images/banners/banner3.jpg" alt="Third Banner">
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
            <div class="row mt-4">
                <div class="col-md">
                    <div class="d-flex">
                        <div class="btn-group mx-auto" role="group" aria-label="Basic example">
                            <button type="button" onClick='$("#banner1Upload").click()' class="btn btn-secondary">Change Banner 1</button>
                            <button type="button" onClick='$("#banner2Upload").click()' class="btn btn-secondary">Change Banner 2</button>
                            <button type="button" onClick='$("#banner3Upload").click()' class="btn btn-secondary">Change Banner 3</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-md">
                    <div class="d-flex">
                        <button type="submit" id="submitForm" class="btn btn-primary ml-auto mx-auto"><i class="fas fa-upload"></i> Upload to server</button>
                    </div>
                </div>
            </div>
            <input id="banner1Upload" accept="image/jpeg" type="file" name="banner1" hidden />
            <input id="banner2Upload" accept="image/jpeg" type="file" name="banner2" hidden />
            <input id="banner3Upload" accept="image/jpeg" type="file" name="banner3" hidden />

        </form>

    </div>
    <!-- Footer -->
    <% include ../footer %>
    <script>
        function readImageAsURL(input, id) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $(id).attr('src', e.target.result);
                }

                reader.readAsDataURL(input.files[0]);
            }
        }
        $("#banner1Upload").change(function () {
            readImageAsURL(this, '#banner1');
        });
        $("#banner2Upload").change(function () {
            readImageAsURL(this, '#banner2');
        });
        $("#banner3Upload").change(function () {
            readImageAsURL(this, '#banner3');
        });
    </script>
</body>

</html>